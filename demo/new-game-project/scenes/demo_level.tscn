[gd_scene load_steps=5 format=3 uid="uid://ctv75h3bqn8qt"]

[ext_resource type="Texture2D" uid="uid://c6l7mmrspyot1" path="res://icon.svg" id="1_icon"]
[ext_resource type="PackedScene" uid="uid://dmx6voixm40f" path="res://scenes/grappling_hook.tscn" id="2_hook"]
[ext_resource type="Script" uid="uid://c01q3x4wd28jj" path="res://scripts/player.gd" id="3_player"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_platform"]
size = Vector2(200, 20)

[node name="DemoLevel" type="Node2D"]

[node name="Background" type="ColorRect" parent="."]
z_index = -10
offset_left = -500.0
offset_top = -500.0
offset_right = 1500.0
offset_bottom = 1000.0
color = Color(0.15, 0.2, 0.3, 1)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(576, 324)
zoom = Vector2(0.8, 0.8)

[node name="UI" type="CanvasLayer" parent="."]

[node name="Instructions" type="Label" parent="UI"]
offset_left = 20.0
offset_top = 20.0
offset_right = 500.0
offset_bottom = 150.0
theme_override_colors/font_color = Color(1, 1, 1, 1)
theme_override_colors/font_shadow_color = Color(0, 0, 0, 1)
theme_override_constants/shadow_offset_x = 2
theme_override_constants/shadow_offset_y = 2
theme_override_font_sizes/font_size = 16
text = "GRAPPLING HOOK DEMO
Controls:
- WASD / Arrow Keys: Move
- SPACE: Jump
- LEFT CLICK: Shoot Grappling Hook (aim with mouse)
- RIGHT CLICK: Retract Hook
- ESC: Quit

Try to reach the golden platform at the top!"

[node name="Platforms" type="Node2D" parent="."]

[node name="Ground" type="StaticBody2D" parent="Platforms"]
position = Vector2(576, 620)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Ground"]
scale = Vector2(10, 1)
shape = SubResource("RectangleShape2D_platform")

[node name="ColorRect" type="ColorRect" parent="Platforms/Ground"]
offset_left = -1000.0
offset_top = -10.0
offset_right = 1000.0
offset_bottom = 10.0
color = Color(0.4, 0.3, 0.2, 1)

[node name="Platform1" type="StaticBody2D" parent="Platforms"]
position = Vector2(300, 500)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform1"]
shape = SubResource("RectangleShape2D_platform")

[node name="ColorRect" type="ColorRect" parent="Platforms/Platform1"]
offset_left = -100.0
offset_top = -10.0
offset_right = 100.0
offset_bottom = 10.0
color = Color(0.5, 0.5, 0.5, 1)

[node name="Platform2" type="StaticBody2D" parent="Platforms"]
position = Vector2(850, 450)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform2"]
shape = SubResource("RectangleShape2D_platform")

[node name="ColorRect" type="ColorRect" parent="Platforms/Platform2"]
offset_left = -100.0
offset_top = -10.0
offset_right = 100.0
offset_bottom = 10.0
color = Color(0.5, 0.5, 0.5, 1)

[node name="Platform3" type="StaticBody2D" parent="Platforms"]
position = Vector2(576, 300)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform3"]
scale = Vector2(1.5, 1)
shape = SubResource("RectangleShape2D_platform")

[node name="ColorRect" type="ColorRect" parent="Platforms/Platform3"]
offset_left = -150.0
offset_top = -10.0
offset_right = 150.0
offset_bottom = 10.0
color = Color(0.5, 0.5, 0.5, 1)

[node name="Platform4" type="StaticBody2D" parent="Platforms"]
position = Vector2(200, 350)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform4"]
scale = Vector2(0.8, 1)
shape = SubResource("RectangleShape2D_platform")

[node name="ColorRect" type="ColorRect" parent="Platforms/Platform4"]
offset_left = -80.0
offset_top = -10.0
offset_right = 80.0
offset_bottom = 10.0
color = Color(0.5, 0.5, 0.5, 1)

[node name="Platform5" type="StaticBody2D" parent="Platforms"]
position = Vector2(950, 250)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/Platform5"]
scale = Vector2(0.8, 1)
shape = SubResource("RectangleShape2D_platform")

[node name="ColorRect" type="ColorRect" parent="Platforms/Platform5"]
offset_left = -80.0
offset_top = -10.0
offset_right = 80.0
offset_bottom = 10.0
color = Color(0.5, 0.5, 0.5, 1)

[node name="HighPlatform" type="StaticBody2D" parent="Platforms"]
position = Vector2(576, 150)
collision_layer = 5

[node name="CollisionShape2D" type="CollisionShape2D" parent="Platforms/HighPlatform"]
shape = SubResource("RectangleShape2D_platform")

[node name="ColorRect" type="ColorRect" parent="Platforms/HighPlatform"]
offset_left = -100.0
offset_top = -10.0
offset_right = 100.0
offset_bottom = 10.0
color = Color(0.8, 0.6, 0.2, 1)

[node name="Player" type="CharacterBody2D" parent="." node_paths=PackedStringArray("hook", "camera")]
position = Vector2(576, 550)
script = ExtResource("3_player")
hook = NodePath("../GrapplingHook")
camera = NodePath("../Camera2D")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Player"]
scale = Vector2(0.3, 0.6)
shape = SubResource("RectangleShape2D_platform")

[node name="Sprite2D" type="Sprite2D" parent="Player"]
modulate = Color(0, 0.7, 1, 1)
scale = Vector2(0.3, 0.3)
texture = ExtResource("1_icon")

[node name="GrapplingHook" parent="." node_paths=PackedStringArray("_player") instance=ExtResource("2_hook")]
_player = NodePath("../Player")
position = Vector2(576, 550)
